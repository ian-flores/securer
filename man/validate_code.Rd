% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate.R
\name{validate_code}
\alias{validate_code}
\title{Validate R code before execution}
\usage{
validate_code(code)
}
\arguments{
\item{code}{Character string of R code to validate.}
}
\value{
A list with components:
\describe{
\item{valid}{Logical. \code{TRUE} if the code parses without error.}
\item{error}{\code{NULL} on success, or a character string describing the
parse error.}
\item{warnings}{Character vector of advisory warnings about potentially
dangerous patterns (e.g. \code{system()}, \code{.Internal()}).  Empty if none
detected.  These are advisory only --- the sandbox handles actual
restriction.}
}
}
\description{
Parses the code string to catch syntax errors and optionally checks for
potentially dangerous function calls.  This is intended as a fast pre-check
so that obviously broken code never reaches the child process.
}
\details{
\strong{Note:} Pattern-based validation is ADVISORY ONLY.  It uses simple regex
matching and can produce both false positives and false negatives.
The OS-level sandbox (Seatbelt / bwrap) is the actual enforcement layer
that restricts filesystem, network, and process access.  Do not rely on
validation alone to prevent dangerous operations.
}
\examples{
# Valid code
result <- validate_code("1 + 1")
result$valid
# TRUE

# Syntax error
result <- validate_code("if (TRUE {")
result$valid
# FALSE
result$error

# Dangerous pattern warning
result <- validate_code("system('ls')")
result$warnings

}
